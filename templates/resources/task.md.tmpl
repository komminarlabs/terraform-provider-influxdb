---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "influxdb_task Resource - terraform-provider-influxdb"
subcategory: ""
description: |-
  Creates and manages a task using Flux scripts with task options.
---

# influxdb_task (Resource)

Creates and manages a task using Flux scripts with task options.

## Task Configuration

Tasks are configured using Flux scripts that include an `option task` block. All task configuration, including scheduling, is defined within the Flux script itself. For more information on Flux scripts and task options, refer to the [InfluxDB documentation on tasks](https://docs.influxdata.com/influxdb/v2/process-data/get-started/#components-of-a-task).

### Task Options in Flux

The Flux script must include an `option task` block that defines the task's behavior. For detailed information about all available task options, see the [InfluxDB documentation on defining task options](https://docs.influxdata.com/influxdb/v2/process-data/get-started/#define-task-options).

**Example configuration with cron scheduling:**

```hcl
resource "influxdb_task" "example_cron" {
  org_id = var.org_id
  flux   = <<-EOT
    option task = {
      name: "Daily Processing Task",
      cron: "0 0 * * *",        # Run daily at midnight
      offset: 30s,              # Delay execution by 30 seconds
    }
    
    from(bucket: "my-bucket")
      |> range(start: -24h)
      |> filter(fn: (r) => r._measurement == "temperature")
      |> mean()
      |> to(bucket: "daily-averages")
  EOT
}
```

**Example configuration with interval scheduling:**

```hcl
resource "influxdb_task" "example_interval" {
  org_id = var.org_id
  flux   = <<-EOT
    option task = {
      name: "Hourly Processing Task",
      every: 1h,                # Run every hour
      offset: 10m,              # Start 10 minutes into each hour
    }
    
    from(bucket: "my-bucket")
      |> range(start: -1h)
      |> filter(fn: (r) => r._measurement == "cpu")
      |> mean()
      |> to(bucket: "hourly-stats")
  EOT
}
```

{{ .SchemaMarkdown | trimspace }}

---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "influxdb_task Resource - terraform-provider-influxdb"
subcategory: ""
description: |-
  Creates and manages a task using Flux scripts with task options.
---

# influxdb_task (Resource)

Creates and manages a task using Flux scripts with task options.

## Task Configuration

Tasks are configured using Flux scripts that include an `option task` block. All task configuration, including scheduling, is defined within the Flux script itself. For more information on Flux scripts and task options, refer to the [InfluxDB documentation on tasks](https://docs.influxdata.com/influxdb/v2/process-data/get-started/#components-of-a-task).

### Task Options in Flux

The Flux script must include an `option task` block that defines the task's behavior. For detailed information about all available task options, see the [InfluxDB documentation on defining task options](https://docs.influxdata.com/influxdb/v2/process-data/get-started/#define-task-options).

**Example configuration with cron scheduling:**

```hcl
resource "influxdb_task" "example_cron" {
  org_id = var.org_id
  flux   = <<-EOT
    option task = {
      name: "Daily Processing Task",
      cron: "0 0 * * *",        # Run daily at midnight
      offset: 30s,              # Delay execution by 30 seconds
    }
    
    from(bucket: "my-bucket")
      |> range(start: -24h)
      |> filter(fn: (r) => r._measurement == "temperature")
      |> mean()
      |> to(bucket: "daily-averages")
  EOT
}
```

**Example configuration with interval scheduling:**

```hcl
resource "influxdb_task" "example_interval" {
  org_id = var.org_id
  flux   = <<-EOT
    option task = {
      name: "Hourly Processing Task",
      every: 1h,                # Run every hour
      offset: 10m,              # Start 10 minutes into each hour
    }
    
    from(bucket: "my-bucket")
      |> range(start: -1h)
      |> filter(fn: (r) => r._measurement == "cpu")
      |> mean()
      |> to(bucket: "hourly-stats")
  EOT
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `flux` (String) The [Flux script](https://docs.influxdata.com/influxdb/v2/process-data/get-started/#components-of-a-task) that the task executes.
- `org_id` (String) The organization ID. Specifies the organization that owns the task.

### Optional

- `status` (String) The status of the task (`active` or `inactive`).

### Read-Only

- `authorization_id` (String) The authorization ID. Specifies the authorization used when the task communicates with the query engine.
- `created_at` (String) The timestamp when the task was created.
- `cron` (String) The Cron expression that defines the schedule on which the task runs.
- `description` (String) The description of the task.
- `every` (String) The interval [duration literal](https://docs.influxdata.com/influxdb/v2/reference/glossary/#rfc3339-timestamp) at which the task runs. every also determines when the task first runs, depending on the specified time.
- `id` (String) The task ID.
- `labels` (Attributes List) The labels associated with the task. (see [below for nested schema](#nestedatt--labels))
- `last_run_error` (String) The error message from the last task run, if any.
- `last_run_status` (String) The status of the last task run.
- `latest_completed` (String) A timestamp [RFC3339 date/time format](https://docs.influxdata.com/influxdb/v2/reference/glossary/#rfc3339-timestamp) of the latest scheduled and completed run.
- `links` (Attributes) Links related to the task. (see [below for nested schema](#nestedatt--links))
- `name` (String) The name of the task.
- `offset` (String) The duration to delay execution of the task after the scheduled time has elapsed. 0 removes the offset.
- `org` (String) The organization name. Specifies the organization that owns the task.
- `owner_id` (String) The user ID. Specifies the owner of the task.
- `updated_at` (String) The timestamp when the task was last updated.

<a id="nestedatt--labels"></a>
### Nested Schema for `labels`

Read-Only:

- `id` (String) The label ID.
- `name` (String) The label name.
- `org_id` (String) The organization ID.
- `properties` (Map of String) The key-value pairs associated with this label.


<a id="nestedatt--links"></a>
### Nested Schema for `links`

Read-Only:

- `labels` (String) URI of resource.
- `logs` (String) URI of resource.
- `members` (String) URI of resource.
- `owners` (String) URI of resource.
- `runs` (String) URI of resource.
- `self` (String) URI of resource.
